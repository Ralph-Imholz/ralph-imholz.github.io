webpackJsonp([6],{"2QRW":function(t,e){},Mrsx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"clients-data-list",props:{dataList:{type:Array}},data:function(){return{propertyToSortOn:"clientName",sortDirection:"down",searchQuery:"",onlyOwnedClients:!1,columns:[{label:"Klantnaam",property:"clientName"},{label:"Contactpersoon",property:"contactFirstName"},{label:"Sales eigenaar",property:"salesOwner"},{label:"Aangemaakt",property:"createdAt"}]}},computed:{sortedDataList:function(){var t=this,e=this.dataList;return""!=this.searchQuery&&(e=e.filter(function(e){var n=e.data().clientName,a=e.data().contactFirstName+" "+e.data().contactLastName;return n.toLowerCase().includes(t.searchQuery.toLowerCase())||a.toLowerCase().includes(t.searchQuery.toLowerCase())})),this.onlyOwnedClients&&(e=e.filter(function(e){return e.data().salesOwner==t.currentUserFullName})),this.$sortClientsAlphabetically(e,this.propertyToSortOn,this.sortDirection)},currentUser:function(){var t=this;return this.$store.getters.getUsersList.find(function(e){return e.data().uid==t.$store.getters.getUser.uid})},currentUserFullName:function(){return this.currentUser.data().firstName+" "+this.currentUser.data().lastName}},methods:{sort:function(t){this.propertyToSortOn!=t?(this.sortDirection="down",this.propertyToSortOn=t):this.propertyToSortOn==t&&"down"==this.sortDirection?this.sortDirection="up":this.propertyToSortOn==t&&"up"==this.sortDirection&&(this.sortDirection="down"),this.propertyToSortOn=t}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-table-wrapper"},[n("div",{staticClass:"data-table-toolbar"},[n("div",{staticClass:"datatable-search-wrapper"},[n("base-input",{staticClass:"datatable-search",attrs:{type:"text",name:"search",id:"clientSearch",placeholder:"Zoeken..."},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),t._v(" "),n("base-icon",{attrs:{iconRef:"search"}})],1),t._v(" "),n("div",{staticClass:"onlyOwnClientsToggle"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyOwnedClients,expression:"onlyOwnedClients"}],staticClass:"checkbox",attrs:{name:"onlyOwnedClients",id:"onlyOwnedClients",type:"checkbox"},domProps:{checked:Array.isArray(t.onlyOwnedClients)?t._i(t.onlyOwnedClients,null)>-1:t.onlyOwnedClients},on:{change:function(e){var n=t.onlyOwnedClients,a=e.target,s=!!a.checked;if(Array.isArray(n)){var r=t._i(n,null);a.checked?r<0&&(t.onlyOwnedClients=n.concat([null])):r>-1&&(t.onlyOwnedClients=n.slice(0,r).concat(n.slice(r+1)))}else t.onlyOwnedClients=s}}}),t._v(" "),n("label",{staticClass:"label",attrs:{for:"onlyOwnedClients"}},[t._v("Alleen klanten van mij")])])]),t._v(" "),n("div",{staticClass:"datatable-wrapper"},[0!=t.dataList.length?n("table",{staticClass:"page-datatable"},[n("thead",[n("tr",t._l(t.columns,function(e){return n("th",{key:e.property,staticClass:"sortable",class:{sorting:t.propertyToSortOn==e.property},on:{click:function(n){return t.sort(e.property)}}},[n("span",[t._v(t._s(e.label))]),t._v(" "),n("base-icon",{directives:[{name:"show",rawName:"v-show",value:"down"==t.sortDirection,expression:"sortDirection == 'down'"}],attrs:{iconRef:"chevron-down",position:"right"}}),t._v(" "),n("base-icon",{directives:[{name:"show",rawName:"v-show",value:"up"==t.sortDirection,expression:"sortDirection == 'up'"}],attrs:{iconRef:"chevron-up",position:"right"}})],1)}),0)]),t._v(" "),n("tbody",t._l(t.sortedDataList,function(e){return n("tr",{key:e.id,on:{click:function(n){return t.$emit("click",e.id)}}},[n("td",[n("span",[t._v(t._s(e.data().clientName))])]),t._v(" "),n("td",[n("span",[t._v(t._s(e.data().contactFirstName+" "+e.data().contactLastName))])]),t._v(" "),n("td",[n("span",[t._v(t._s(e.data().salesOwner))])]),t._v(" "),n("td",[n("span",[t._v(t._s(t._f("$prettifyDateToNumbers")(e.data().createdAt.seconds)))])])])}),0)]):t._e()]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:0==t.sortedDataList.length,expression:"sortedDataList.length == 0"}],staticClass:"page-datatable-disclaimer"},[t._v("Er zijn geen klanten gevonden.")])])},staticRenderFns:[]};var r={name:"Clients",components:{clientsDataList:n("VU/8")(a,s,!1,function(t){n("2QRW")},null,null).exports},computed:{clientsList:function(){return this.$store.getters.getClientsList.filter(function(t){return 0==t.data().trashed})}},methods:{openCreateModal:function(){this.$store.commit("setModalShown",{dataType:"client",modalType:"create",shown:!0})},dataEntryClick:function(t){this.openClient(t)},openClient:function(t){this.$router.push("/klant/"+t)}},mounted:function(){this.$store.dispatch("fetchClients")},created:function(){this.$setPageTitle("Klanten")}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"page-box accent"},[n("div",{staticClass:"page-box-title"},[n("h2",[t._v("Klanten\n      ")]),t._v(" "),n("div",{staticClass:"flex-divider"}),t._v(" "),n("base-button",{staticClass:"small-on-mobile",on:{click:t.openCreateModal}},[n("base-icon",{attrs:{iconRef:"plus",position:"left"}}),n("span",{staticClass:"button-label"},[t._v("Nieuwe Klant")])],1)],1),t._v(" "),n("div",{staticClass:"page-box-datatable-container"},[n("clients-data-list",{attrs:{dataList:t.clientsList},on:{click:function(e){return t.dataEntryClick(e)}}})],1)])])},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(t){n("YCcu")},null,null);e.default=o.exports},YCcu:function(t,e){}});
//# sourceMappingURL=6.f288fd2e05a1ad5d2b19.js.map