webpackJsonp([5],{"3ugO":function(t,e){},"7fdu":function(t,e){},Mrsx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"clients-data-list",props:{dataList:{type:Array}},data:function(){return{propertyToSortOn:"clientName",searchQuery:"",onlyOwnedClients:!1,columns:[{label:"Klantnaam",property:"clientName"},{label:"Contactpersoon",property:"contactFirstName"},{label:"Sales eigenaar",property:"salesOwner"}]}},computed:{sortedDataList:function(){var t=this,e=this.dataList;return""!=this.searchQuery&&(e=e.filter(function(e){var a=e.data().clientName,n=e.data().contactFirstName+" "+e.data().contactLastName;return a.toLowerCase().includes(t.searchQuery.toLowerCase())||n.toLowerCase().includes(t.searchQuery.toLowerCase())})),this.onlyOwnedClients&&(e=e.filter(function(e){return e.data().salesOwner==t.currentUserFullName})),this.$sortAlphabetically(e,this.propertyToSortOn)},currentUser:function(){var t=this;return this.$store.getters.getUsersList.find(function(e){return e.data().uid==t.$store.getters.getUser.uid})},currentUserFullName:function(){return this.currentUser.data().firstName+" "+this.currentUser.data().lastName}},methods:{sort:function(t){this.propertyToSortOn=t}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-table-wrapper"},[a("div",{staticClass:"data-table-toolbar"},[a("div",{staticClass:"datatable-search-wrapper"},[a("base-input",{staticClass:"datatable-search",attrs:{type:"text",name:"search",id:"clientSearch",placeholder:"Zoeken..."},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),t._v(" "),a("base-icon",{attrs:{iconRef:"search"}})],1),t._v(" "),a("div",{staticClass:"onlyOwnClientsToggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyOwnedClients,expression:"onlyOwnedClients"}],staticClass:"checkbox",attrs:{name:"onlyOwnedClients",id:"onlyOwnedClients",type:"checkbox"},domProps:{checked:Array.isArray(t.onlyOwnedClients)?t._i(t.onlyOwnedClients,null)>-1:t.onlyOwnedClients},on:{change:function(e){var a=t.onlyOwnedClients,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=t._i(a,null);n.checked?r<0&&(t.onlyOwnedClients=a.concat([null])):r>-1&&(t.onlyOwnedClients=a.slice(0,r).concat(a.slice(r+1)))}else t.onlyOwnedClients=s}}}),t._v(" "),a("label",{staticClass:"label",attrs:{for:"onlyOwnedClients"}},[t._v("Alleen klanten van mij")])])]),t._v(" "),0!=t.dataList.length?a("table",{staticClass:"page-datatable"},[a("thead",[a("tr",t._l(t.columns,function(e){return a("th",{key:e.property,staticClass:"sortable",class:{sorting:t.propertyToSortOn==e.property},on:{click:function(a){t.sort(e.property)}}},[a("span",[t._v(t._s(e.label))]),t._v(" "),a("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.property==t.propertyToSortOn,expression:"column.property == propertyToSortOn"}],attrs:{iconRef:"chevron-down",position:"right"}})],1)}))]),t._v(" "),a("tbody",t._l(t.sortedDataList,function(e){return a("tr",{key:e.id,on:{click:function(a){t.$emit("click",e.id)}}},[a("td",[a("span",[t._v(t._s(e.data().clientName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.data().contactFirstName+" "+e.data().contactLastName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.data().salesOwner))])])])}))]):t._e(),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==t.sortedDataList.length,expression:"sortedDataList.length == 0"}],staticClass:"page-datatable-disclaimer"},[t._v("Er zijn geen klanten gevonden.")])])},staticRenderFns:[]};var r={name:"Clients",components:{clientsDataList:a("VU/8")(n,s,!1,function(t){a("7fdu")},null,null).exports},computed:{clientsList:function(){return this.$store.getters.getClientsList.filter(function(t){return 0==t.data().trashed})}},methods:{openCreateModal:function(){this.$store.commit("setModalShown",{dataType:"client",modalType:"create",shown:!0})},dataEntryClick:function(t){this.openClient(t)},openClient:function(t){this.$router.push("/klant/"+t)}},created:function(){this.$setPageTitle("Klanten")}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-box accent"},[a("div",{staticClass:"page-box-title"},[a("h2",[t._v("Klanten\n      ")]),t._v(" "),a("div",{staticClass:"flex-divider"}),t._v(" "),a("base-button",{staticClass:"small-on-mobile",on:{click:t.openCreateModal}},[a("base-icon",{attrs:{iconRef:"plus",position:"left"}}),a("span",{staticClass:"button-label"},[t._v("Nieuwe Klant")])],1)],1),t._v(" "),a("div",{staticClass:"page-box-datatable-container"},[a("clients-data-list",{attrs:{dataList:t.clientsList},on:{click:function(e){t.dataEntryClick(e)}}})],1)])])},staticRenderFns:[]};var l=a("VU/8")(r,i,!1,function(t){a("3ugO")},null,null);e.default=l.exports}});
//# sourceMappingURL=5.a8c8f782bd5df861cabd.js.map