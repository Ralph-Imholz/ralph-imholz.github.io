webpackJsonp([6],{Mrsx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Pt7C"),a=r.n(n),o={name:"Clients",data:function(){return{searchClient:a()("B9KCQKP8E1","0382472d88154c2158abc0dc678ade85")}},computed:{userFullName:function(){var e=this,t=this.$store.getters.getUsersList.find(function(t){return t.data().uid==e.$store.getters.getUser.uid});return t.data().firstName+" "+t.data().lastName},userIsAdmin:function(){return this.$store.getters.getCurrentUserAdminStatus}},methods:{openCreateModal:function(){this.$store.commit("setModalShown",{dataType:"client",modalType:"create",shown:!0})},dataEntryClick:function(e){this.openClient(e)},navigateToClient:function(e){this.$router.push("/klant/"+e)}},created:function(){this.$setPageTitle("Klanten")}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[r("div",{staticClass:"page-box accent"},[r("div",{staticClass:"page-box-title"},[r("h2",[e._v("Klanten")]),e._v(" "),r("div",{staticClass:"flex-divider"}),e._v(" "),r("base-button",{staticClass:"small-on-mobile",on:{click:e.openCreateModal}},[r("base-icon",{attrs:{iconRef:"plus",position:"left"}}),e._v(" "),r("span",{staticClass:"button-label"},[e._v("Nieuwe Klant")])],1)],1),e._v(" "),r("div",{staticClass:"page-box-datatable-container"},[r("ais-instant-search",{attrs:{"search-client":e.searchClient,"index-name":"prod_CLIENTS"}},[r("ais-toggle-refinement",{attrs:{attribute:"salesOwner",label:"Toon alleen eigen klanten",on:e.userFullName}}),e._v(" "),r("ais-toggle-refinement",{directives:[{name:"show",rawName:"v-show",value:e.userIsAdmin,expression:"userIsAdmin"}],attrs:{attribute:"trashed",label:"Verwijderd",on:!0,off:!1}}),e._v(" "),r("ais-search-box"),e._v(" "),r("ais-hits",{scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return r("button",{staticClass:"client-list-item",on:{click:function(t){return e.navigateToClient(n.objectID)}}},[r("div",{staticClass:"client-list-item--names"},[r("div",{staticClass:"client-list-item--client-name"},[e._v(e._s(n.clientName))]),e._v(" "),r("div",{staticClass:"client-list-item--contact-name"},[e._v("\n                "+e._s(n.contactFirstName||n.contactLastName?n.contactFirstName+" "+n.contactLastName:"-")+"\n              ")])]),e._v(" "),r("div",{staticClass:"client-list-item--date"},[e._v("\n              "+e._s(n.createdAt?new Date(1e3*n.createdAt._seconds).toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"})||"":"-")+"\n            ")]),e._v(" "),r("div",{staticClass:"client-list-item--sales-owner"},[e._v(e._s(n.salesOwner?n.salesOwner:"-"))])])}}])}),e._v(" "),r("ais-pagination")],1)],1)])])},staticRenderFns:[]};var i=r("VU/8")(o,s,!1,function(e){r("o0C/")},null,null);t.default=i.exports},Pt7C:function(e,t,r){var n;n=function(){"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(t){e(r,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){var t,r="algoliasearch-client-js-".concat(e.key),a=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},o=function(){return JSON.parse(a().getItem(r)||"{}")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var r=JSON.stringify(e),n=o()[r];return Promise.all([n||t(),void 0!==n])}).then(function(e){var t=n(e,2),a=t[0],o=t[1];return Promise.all([a,o||r.miss(a)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var n=o();return n[JSON.stringify(e)]=t,a().setItem(r,JSON.stringify(n)),t})},delete:function(e){return Promise.resolve().then(function(){var t=o();delete t[JSON.stringify(e)],a().setItem(r,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function s(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,r.miss(e)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,a).catch(function(){return s({caches:t}).get(e,n,a)})},set:function(e,n){return r.set(e,n).catch(function(){return s({caches:t}).set(e,n)})},delete:function(e){return r.delete(e).catch(function(){return s({caches:t}).delete(e)})},clear:function(){return r.clear().catch(function(){return s({caches:t}).clear()})}}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(r);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var s=n(),i=a&&a.miss||function(){return Promise.resolve()};return s.then(function(e){return i(e)}).then(function(){return s})},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function u(e,t){return t?(Object.keys(t).forEach(function(r){e[r]=t[r](e)}),e):e}function c(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[a++])})}var l={WithinQueryParameters:0,WithinHeaders:1};function f(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])}),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var d={Read:1,Write:2,Any:3},m=1,h=2,p=3;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function g(e){return"string"==typeof e?{protocol:"https",url:e,accept:d.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||d.Any}}var y="GET",b="POST";function O(e,t,n,o){var s=[],i=function(e,t){if(e.method!==y&&(void 0!==e.data||void 0!==t.data)){var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}}(n,o),u=function(e,t){var n=r(r({},e.headers),t.headers),a={};return Object.keys(n).forEach(function(e){var t=n[e];a[e.toLowerCase()]=t}),a}(e,o),c=n.method,l=n.method!==y?{}:r(r({},n.data),o.data),f=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),o.queryParameters),d=0,b=function t(r,a){var l=r.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:C(s)};var m={data:i,headers:u,method:c,url:function(e,t,r){var n=P(r),a="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return n.length&&(a+="?".concat(n)),a}(l,n.path,f),connectTimeout:a(d,e.timeouts.connect),responseTimeout:a(d,o.timeout)},g=function(e){var t={request:m,response:e,host:l,triesLeft:r.length};return s.push(t),t},y={onSucess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=g(n);return n.isTimedOut&&d++,Promise.all([e.logger.info("Retryable failure",w(o)),e.hostsCache.set(l,v(l,n.isTimedOut?p:h))]).then(function(){return t(r,a)})},onFail:function(e){throw g(e),function(e,t){var r=e.content,n=e.status,a=r;try{a=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:"ApiError",message:a,status:n,transporterStackTrace:r}}(0,0,t)}(e,C(s))}};return e.requester.send(m).then(function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSucess(e):t.onFail(e)}(e,y)})};return function(e,t){return Promise.all(t.map(function(t){return e.get(t,function(){return Promise.resolve(v(t))})})).then(function(e){var r=e.filter(function(e){return function(e){return e.status===m||Date.now()-e.lastUpdate>12e4}(e)}),n=e.filter(function(e){return function(e){return e.status===p&&Date.now()-e.lastUpdate<=12e4}(e)}),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map(function(e){return g(e)}):t}})}(e.hostsCache,t).then(function(e){return b(a(e.statelessHosts).reverse(),e.getTimeout)})}function P(e){return Object.keys(e).map(function(t){return c("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r}).join("&")}function C(e){return e.map(function(e){return w(e)})}function w(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var q=function(e){var t=e.appId,a=function(e,t,r){var n={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers:function(){return e===l.WithinHeaders?n:{}},queryParameters:function(){return e===l.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:l.WithinHeaders,t,e.apiKey),o=function(e){var t=e.hostsCache,r=e.logger,a=e.requester,o=e.requestsCache,s=e.responsesCache,i=e.timeouts,u=e.userAgent,c=e.hosts,l=e.queryParameters,m={hostsCache:t,logger:r,requester:a,requestsCache:o,responsesCache:s,timeouts:i,userAgent:u,headers:e.headers,queryParameters:l,hosts:c.map(function(e){return g(e)}),read:function(e,t){var r=f(t,m.timeouts.read),a=function(){return O(m,m.hosts.filter(function(e){return 0!=(e.accept&d.Read)}),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return a();var o={request:e,mappedRequestOptions:r,transporter:{queryParameters:m.queryParameters,headers:m.headers}};return m.responsesCache.get(o,function(){return m.requestsCache.get(o,function(){return m.requestsCache.set(o,a()).then(function(e){return Promise.all([m.requestsCache.delete(o),e])},function(e){return Promise.all([m.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){var t=n(e,2);return t[0],t[1]})})},{miss:function(e){return m.responsesCache.set(o,e)}})},write:function(e,t){return O(m,m.hosts.filter(function(e){return 0!=(e.accept&d.Write)}),e,f(t,m.timeouts.write))}};return m}(r(r({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:d.Read},{url:"".concat(t,".algolia.net"),accept:d.Write}].concat(function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:r(r(r({},a.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:r(r({},a.queryParameters()),e.queryParameters)}));return u({transporter:o,appId:t,addAlgoliaAgent:function(e,t){o.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then(function(){})}},e.methods)},S=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({transporter:e.transporter,appId:e.appId,indexName:t},r.methods)}},j=function(e){return function(t,n){var a=t.map(function(e){return r(r({},e),{},{params:P(e.params||{})})});return e.transporter.read({method:b,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},n)}},N=function(e){return function(t,n){return Promise.all(t.map(function(t){var a=t.params,o=a.facetName,s=a.facetQuery,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(a,["facetName","facetQuery"]);return S(e)(t.indexName,{methods:{searchForFacetValues:A}}).searchForFacetValues(o,s,r(r({},n),i))}))}},T=function(e){return function(t,r,n){return e.transporter.read({method:b,path:c("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},x=function(e){return function(t,r){return e.transporter.read({method:b,path:c("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r)}},A=function(e){return function(t,r,n){return e.transporter.read({method:b,path:c("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},_=1,k=2,I=3;function E(e,t,n){var a,u={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return r.setRequestHeader(t,e.headers[t])});var n,a=function(e,n){return setTimeout(function(){r.abort(),t({status:0,content:n,isTimedOut:!0})},1e3*e)},o=a(e.connectTimeout,"Connection timeout");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(o),n=a(e.responseTimeout,"Socket timeout"))},r.onerror=function(){0===r.status&&(clearTimeout(o),clearTimeout(n),t({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(o),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)})}},logger:(a=I,{debug:function(e,t){return _>=a&&console.debug(e,t),Promise.resolve()},info:function(e,t){return k>=a&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:i(),requestsCache:i({serializable:!1}),hostsCache:s({caches:[o({key:"".concat("4.8.3","-").concat(e)}),i()]}),userAgent:function(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var r="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(r)&&(t.value="".concat(t.value).concat(r)),t}};return t}("4.8.3").add({segment:"Browser",version:"lite"}),authMode:l.WithinQueryParameters};return q(r(r(r({},u),n),{},{methods:{search:j,searchForFacetValues:N,multipleQueries:j,multipleSearchForFacetValues:N,initIndex:function(e){return function(t){return S(e)(t,{methods:{search:x,searchForFacetValues:A,findAnswers:T}})}}}}))}return E.version="4.8.3",E},e.exports=n()},"o0C/":function(e,t){}});
//# sourceMappingURL=6.a71f6cf76a23717b2e0a.js.map